from reportlab.pdfgen import canvas
from PyPDF2 import PdfReader, PdfWriter
from io import BytesIO

# Create a PDF using ReportLab
packet = BytesIO()
can = canvas.Canvas(packet)
can.drawString(10, 100, "This is a sample PDF with Obfuscated JavaScript.")
can.save()

# Move to the beginning of the StringIO buffer
packet.seek(0)
new_pdf = PdfReader(packet)
output = PdfWriter()
output.add_page(new_pdf.pages[0])

# Obfuscate and add JavaScript
# Example of obfuscated JavaScript: (It's a simple alert box, obfuscated)
js_code = """
var _0x5a42=['log','Hello, World!'];(function(_0x5ecbdd,_0x4b81bb){var _0x4d8f03=function(_0x35c705){while(--_0x35c705){_0x5ecbdd['push'](_0x5ecbdd['shift']());}};_0x4d8f03(++_0x4b81bb);}(_0x5a42,0x1b3));var _0x4c5a=function(_0x2f399c,_0x5b9c5b){_0x2f399c=_0x2f399c-0x0;var _0x4d8f03=_0x5a42[_0x2f399c];return _0x4d8f03;};console[_0x4c5a('0x0')](_0x4c5a('0x1'));
"""
output.add_js(js_code)

# Write the PDF to a file
with open("sample_obfuscated2.pdf", "wb") as f:
    output.write(f)

print("PDF created with obfuscated JavaScript code.")

